# Demo - A Three Tier Applicatin

## Timings

Approx 40 minutes

## This lesson includes:

- Demostration of a 3 tier (WPF - Business Layer - Object Model / Database) application based on the Northwind database

## Learning Outcomes:

- Create .NET Core Entity Framework applications
- Preparation for the Project Week where they will
  - Create a GUI using WPF to interact with an object-oriented application
  - Use .NET Entity Framework and LINQ for object persistence
  - Implement and unit test an object-oriented business logic layer

## Slides

None

### Built in activities

Demo of 3-tier application

### Set-up

Download the CodeFromNorthwindWithWPF solution in this folder

- trainer will use this code for the demo
- trainees can follow along if they like, or go through the code afterwards

## Lesson

- go through the lesson outline and learning outcomes

#### Demo the code:

- run the application
- point out the selectable list in the main window
- select a customer and view their details
- edit one or more of a customer's fields, and click update
- note that the updated data is now visible in both the list and the detail view
- note that they have now changed their local copy of the Northwind database
  - they might want to change the field back to the original value
  - remind them they can always regenerate the database by running the original installation script instnwnd.sql

#### Look at the class diagram and project dependencies

- show them the class diagram and point out the 3 layers.
- note that the WPF layer depends on the Business Layer which depends on the Database layer
- show them the project dependencies in the Solution Explorer

#### Examine the GUI layer

- look at the XAML for the WPF main window, and examine the properties of some of the GUI elements
- show the code-behind - MainWindow.xaml.cs

#### Use the debugger to step through the code

- put a breakpoint in the MainWindow constructor and step through the code
  - point out that the list box holds references to Customer objects, and the labels are generated by calling their ToString() methods
    - so if ToString() is not overridden, the base Object version is called, which simply returns the namespace and name of the object's class
- do the same for ListBoxCustomer_SelectionChanged method
- and the MainWindow.xaml.cs ButtonUpdate_Click method
- point out the override of the ToString method in the Customer partial class (in the ClassCustomisations folder)
- remind them what a partial class is and why it is separate (so the it is not lost in any database migration

## Lab - Homework

In the EF-ModelFirst_Migrations lesson and walkthrough we created a Blog application with associated database using EF migrations. In this lesson walked through a 3-tier WPF-BusinessLayer-EF application which accesses the Northwind Database.

For homework, extend the Blog application so it also has a project (C# Core Library) to represent the Business Layer, and and a front end (C# Core WPF project). Add functionality to create a new Blog, add a Post to a Blog, display blogs and their posts, and any other functionality you like!

This work will not be formally marked, but it is a chance for you to practice, demonstrate and improve your skills, so you must all attempt it.

Please ask questions as you go! You will be asked to demonstrate your work in tomorrow's standup.

## Further reading

None